{"version":3,"file":"Badge.base.js","sources":["../../../components/badge/Badge.base.ts"],"sourcesContent":["/**\n * Copyright 2026 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport { PropertyValues } from 'lit';\nimport { property } from 'lit/decorators.js';\n\nimport {\n    SizedMixin,\n    SpectrumElement,\n} from '@spectrum-web-components/core/shared/base/index.js';\nimport { ObserveSlotPresence } from '@spectrum-web-components/core/shared/observe-slot-presence.js';\nimport { ObserveSlotText } from '@spectrum-web-components/core/shared/observe-slot-text.js';\n\nimport {\n    BADGE_VARIANTS_SEMANTIC,\n    type BadgeVariant,\n    FIXED_VALUES,\n    type FixedValues,\n} from './Badge.types.js';\n\n/**\n * A badge component that displays short, descriptive information about an element.\n * Badges are typically used to indicate status, categories, or provide supplementary information.\n *\n * @attribute {ElementSize} size - The size of the badge.\n *\n * @slot - Text label of the badge.\n * @slot icon - Optional icon that appears to the left of the label\n */\nexport abstract class BadgeBase extends SizedMixin(\n    ObserveSlotText(ObserveSlotPresence(SpectrumElement, '[slot=\"icon\"]'), ''),\n    {\n        noDefaultSize: true,\n    }\n) {\n    // ─────────────────────────\n    //     API TO OVERRIDE\n    // ─────────────────────────\n\n    /**\n     * @internal\n     *\n     * A readonly array of the valid color variants for the badge.\n     *\n     * This is an actual internal property, intended not for customer use\n     * but for use in internal validation logic, stories, tests, etc.\n     *\n     * Because S1 and S2 support different color variants, the value of this\n     * property must be set in each subclass.\n     */\n    static readonly VARIANTS_COLOR: readonly string[];\n\n    /**\n     * @internal\n     *\n     * A readonly array of all valid variants for the badge.\n     *\n     * This is an actual internal property, intended not for customer use\n     * but for use in internal validation logic, stories, tests, etc.\n     *\n     * Because S1 and S2 support different variants, the value of this\n     * property must be set in each subclass.\n     */\n    static readonly VARIANTS: readonly string[];\n\n    /**\n     * @internal\n     *\n     * The variant of the badge.\n     *\n     * This is a public property, but its valid values vary between S1 and S2,\n     * so the property (and its docs) need to be redefined in each subclass.\n     *\n     * The type declared here is a union of the valid values for S1 and S2,\n     * and should be narrowed in each subclass.\n     */\n    @property({ type: String, reflect: true })\n    public variant: BadgeVariant = 'informative';\n\n    // ──────────────────\n    //     SHARED API\n    // ──────────────────\n\n    /**\n     * @internal\n     */\n    static readonly FIXED_VALUES: readonly string[] = FIXED_VALUES;\n\n    /**\n     * @internal\n     */\n    static readonly VARIANTS_SEMANTIC: readonly string[] =\n        BADGE_VARIANTS_SEMANTIC;\n\n    /**\n     * The fixed position of the badge.\n     *\n     * @todo The purpose of the bespoke getter and setter is unclear, as it\n     * looks like they may be behaving just like a standard Lit reactive\n     * property. Explore replacing after the Barebones milestone.\n     */\n    @property({ reflect: true })\n    public get fixed(): FixedValues | undefined {\n        return this._fixed;\n    }\n\n    public set fixed(fixed: FixedValues | undefined) {\n        if (fixed === this.fixed) {\n            return;\n        }\n        const oldValue = this.fixed;\n        this._fixed = fixed;\n        if (fixed) {\n            this.setAttribute('fixed', fixed);\n        } else {\n            this.removeAttribute('fixed');\n        }\n        this.requestUpdate('fixed', oldValue);\n    }\n\n    private _fixed?: FixedValues;\n\n    // ──────────────────────\n    //     IMPLEMENTATION\n    // ──────────────────────\n\n    /**\n     * @internal Used for rendering gap when the badge has an icon.\n     */\n    protected get hasIcon(): boolean {\n        return this.slotContentIsPresent;\n    }\n\n    protected override update(changedProperties: PropertyValues): void {\n        super.update(changedProperties);\n        if (window.__swc?.DEBUG) {\n            const constructor = this.constructor as typeof BadgeBase;\n            if (!constructor.VARIANTS.includes(this.variant)) {\n                window.__swc.warn(\n                    this,\n                    `<${this.localName}> element expect the \"variant\" attribute to be one of the following:`,\n                    'https://opensource.adobe.com/spectrum-web-components/components/badge/#variants',\n                    {\n                        issues: [...constructor.VARIANTS],\n                    }\n                );\n            }\n            // Check outline property if it exists (S2 only)\n            if (\n                'outline' in this &&\n                (this as { outline: boolean }).outline === true &&\n                !constructor.VARIANTS_SEMANTIC.includes(this.variant)\n            ) {\n                window.__swc.warn(\n                    this,\n                    `<${this.localName}> element only supports the outline styling if the variant is a semantic color variant.`,\n                    'https://opensource.adobe.com/spectrum-web-components/components/badge/#variants',\n                    {\n                        issues: [...constructor.VARIANTS_SEMANTIC],\n                    }\n                );\n            }\n        }\n    }\n}\n"],"names":["BadgeBase","SizedMixin","ObserveSlotText","ObserveSlotPresence","SpectrumElement","fixed","oldValue","changedProperties","_a","constructor","FIXED_VALUES","BADGE_VARIANTS_SEMANTIC","__decorateClass","property"],"mappings":";;;;;;;;;;AAqCO,MAAeA,UAAkBC;AAAA,EACpCC,EAAgBC,EAAoBC,GAAiB,eAAe,GAAG,EAAE;AAAA,EACzE;AAAA,IACI,eAAe;AAAA,EAAA;AAEvB,EAAE;AAAA,EALK,cAAA;AAAA,UAAA,GAAA,SAAA,GAgDH,KAAO,UAAwB;AAAA,EAAA;AAAA,EAyB/B,IAAW,QAAiC;AACxC,WAAO,KAAK;AAAA,EAChB;AAAA,EAEA,IAAW,MAAMC,GAAgC;AAC7C,QAAIA,MAAU,KAAK;AACf;AAEJ,UAAMC,IAAW,KAAK;AACtB,SAAK,SAASD,GACVA,IACA,KAAK,aAAa,SAASA,CAAK,IAEhC,KAAK,gBAAgB,OAAO,GAEhC,KAAK,cAAc,SAASC,CAAQ;AAAA,EACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,IAAc,UAAmB;AAC7B,WAAO,KAAK;AAAA,EAChB;AAAA,EAEmB,OAAOC,GAAyC;AA7IvE,QAAAC;AA+IQ,QADA,MAAM,OAAOD,CAAiB,IAC1BC,IAAA,OAAO,UAAP,QAAAA,EAAc,OAAO;AACrB,YAAMC,IAAc,KAAK;AACzB,MAAKA,EAAY,SAAS,SAAS,KAAK,OAAO,KAC3C,OAAO,MAAM;AAAA,QACT;AAAA,QACA,IAAI,KAAK,SAAS;AAAA,QAClB;AAAA,QACA;AAAA,UACI,QAAQ,CAAC,GAAGA,EAAY,QAAQ;AAAA,QAAA;AAAA,MACpC,GAKJ,aAAa,QACZ,KAA8B,YAAY,MAC3C,CAACA,EAAY,kBAAkB,SAAS,KAAK,OAAO,KAEpD,OAAO,MAAM;AAAA,QACT;AAAA,QACA,IAAI,KAAK,SAAS;AAAA,QAClB;AAAA,QACA;AAAA,UACI,QAAQ,CAAC,GAAGA,EAAY,iBAAiB;AAAA,QAAA;AAAA,MAC7C;AAAA,IAGZ;AAAA,EACJ;AACJ;AAvIsBT,EAyDF,eAAkCU;AAzDhCV,EA8DF,oBACZW;AAfGC,EAAA;AAAA,EADNC,EAAS,EAAE,MAAM,QAAQ,SAAS,IAAM;AAAA,GA/CvBb,EAgDX,WAAA,WAAA,CAAA;AAyBIY,EAAA;AAAA,EADVC,EAAS,EAAE,SAAS,GAAA,CAAM;AAAA,GAxETb,EAyEP,WAAA,SAAA,CAAA;"}